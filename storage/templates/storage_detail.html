{% extends 'base.html' %}
{% load extra_tags %}


{% block body_id %}storage-detail{% endblock %}
{% block page_title %}
{{ container.get_ancestry_string }}
{% endblock %}


{% block content %}
<table>
  {% for row in grid %}
  <tr>
    {% for compartment in row %}
    <td>
      {% for container in compartment %}
        {% if container.has_children %}
        <a href={{ container.get_absolute_url }}>

        {% elif container.stockable %}
        <a href={{ container.stockable.get_absolute_url }}>
        {% endif %}

        <span
          {% if container.get_hover_string %}
          data-hover-tag="{{ container.get_hover_string }}"
          {% endif %}>

          {% if container.stockable %}
          {{ container.stockable }}
          {% else %}
          {{ container.get_display_string }}
          {% endif %}
        </span>

        {% if container.has_children or container.stockable %}
        </a>
        {% endif %}

      {% empty %}
      <span class='no-record'>No record</span>
      {% endfor %}
    </td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>

{% if unpositioned_children %}
Position unset:
{% for container in unpositioned_children %}
  {% if container.stockable%}
  {{ container.stockable }}
  {% else %}
  {{ container.get_display_string }}
  {% endif %}
{% endfor %}
{% endif %}

{% endblock %}
